#      ___                                     ___           ___           ___           ___     
#     /  /\                      ___          /  /\         /  /\         /  /\         /  /\    
#    /  /::\                    /  /\        /  /::\       /  /:/_       /  /:/_       /  /:/_   
#   /  /:/\:\    ___     ___   /  /:/       /  /:/\:\     /  /:/ /\     /  /:/ /\     /  /:/ /\  
#  /  /:/~/::\  /__/\   /  /\ /__/::\      /  /:/~/::\   /  /:/ /::\   /  /:/ /:/_   /  /:/ /::\ 
# /__/:/ /:/\:\ \  \:\ /  /:/ \__\/\:\__  /__/:/ /:/\:\ /__/:/ /:/\:\ /__/:/ /:/ /\ /__/:/ /:/\:\
# \  \:\/:/__\/  \  \:\  /:/     \  \:\/\ \  \:\/:/__\/ \  \:\/:/~/:/ \  \:\/:/ /:/ \  \:\/:/~/:/
#  \  \::/        \  \:\/:/       \__\::/  \  \::/       \  \::/ /:/   \  \::/ /:/   \  \::/ /:/ 
#   \  \:\         \  \::/        /__/:/    \  \:\        \__\/ /:/     \  \:\/:/     \__\/ /:/  
#    \  \:\         \__\/         \__\/      \  \:\         /__/:/       \  \::/        /__/:/   
#     \__\/                                   \__\/         \__\/         \__\/         \__\/    

# primeagen tmux-sessionizer
bindkey -s ^f "tmux-sessionizer\n"

alias de='deactivate'
alias ar='autorandr '
alias uf='uvx ruff format '

# Attaches tmux to the last session; creates a new session if none exists.
alias t='tmux attach || tmux new-session'

# Attaches tmux to a session (example: ta portal)
alias ta='tmux attach -t'

# Creates a new session
alias tn='tmux new-session'

# Lists all ongoing sessions
alias tl='tmux list-sessions'

# use specific terminal bc alacritty breaks shit
alias ssh='TERM=xterm-256color ssh'
alias gssh='TERM=xterm-256color gcloud compute ssh'

# vim
alias nvim='$HOME/apps/nvim/nvim.appimage'
alias vim='$HOME/apps/nvim/nvim.appimage'
alias vimrc='nvim $HOME/.config/nvim/'

# git
alias gs='git status'
alias gap='git add -p'

alias wta='f() { (cd "$(git rev-parse --show-toplevel)/.." && git worktree add "$@") && "$(git rev-parse --show-toplevel)/../$@"; }; f'
alias wtr='git worktree remove'
alias wtl='git worktree list'
alias wtp='git worktree prune'
alias cdwt='f() { cd "$(git worktree list | grep $1 | awk "{print \$1}")"; }; f'

# claude code
CLAUDE_LOCATION="/home/pashbyl/.claude/local/claude"

_claude_run() {
  export CLAUDE_CODE_USE_VERTEX=1
  export CLOUD_ML_REGION=us-east5
  export ANTHROPIC_VERTEX_PROJECT_ID=ipweb-240115
  # export DISABLE_PROMPT_CACHING=1

  "$CLAUDE_LOCATION" update && "$CLAUDE_LOCATION" "$@"
}

# alias claude='_claude_run'
# alias bigclaude='export ANTHROPIC_MODEL=claude-opus-4@20250514 && _claude_run'

# gemini cli
GEMINI_LOCATION="gemini"

_gemini_run() {
  export GOOGLE_GENAI_USE_VERTEXAI=true
  export GOOGLE_CLOUD_LOCATION=us-central1
  export GOOGLE_CLOUD_PROJECT=ipweb-240115

  "$GEMINI_LOCATION" "$@"
}

alias gemini='_gemini_run'

# vpn
exitnode() {
  if [ "$1" = "up" ]; then
    tailscale exit-node suggest | awk -F ": " '/Suggested exit node/ {print $2}' | xargs -I {} sudo tailscale set --exit-node={} --exit-node-allow-lan-access=true
  elif [ "$1" = "down" ]; then
    sudo tailscale set --exit-node=
  else
    echo "Usage: exitnode up|down"
  fi
}

# other
alias sz='source ~/.zshrc'
alias android='scrcpy --serial=R5CN20E1A4W'
alias dbmate='/home/pashbyl/apps/dbmate'

function ve() {
    local local_activate=".venv/bin/activate"
    local base_activate="$HOME/apps/uv/central_venv_repo/base/.venv/bin/activate"

    if [[ -f "$local_activate" ]]; then
        source "$local_activate"
    elif [[ -f "$base_activate" ]]; then
        source "$base_activate"
    fi
}

#      ___         ___                       ___     
#     /  /\       /  /\          ___        /__/\    
#    /  /::\     /  /::\        /  /\       \  \:\   
#   /  /:/\:\   /  /:/\:\      /  /:/        \__\:\  
#  /  /:/~/:/  /  /:/~/::\    /  /:/     ___ /  /::\ 
# /__/:/ /:/  /__/:/ /:/\:\  /  /::\    /__/\  /:/\:\
# \  \:\/:/   \  \:\/:/__\/ /__/:/\:\   \  \:\/:/__\/
#  \  \::/     \  \::/      \__\/  \:\   \  \::/     
#   \  \:\      \  \:\           \  \:\   \  \:\     
#    \  \:\      \  \:\           \__\/    \  \:\    
#     \__\/       \__\/                     \__\/
source "$HOME/apps/google-cloud-sdk/completion.zsh.inc" # GCLOUD COMPLETIONS
source "$HOME/apps/google-cloud-sdk/path.zsh.inc" # GCLOUD CLI

path+=("$HOME/.local/bin")
path+=('/usr/local/go/bin')
path+=("$HOME/apps/go/bin") # GO
path+=("$HOME/apps/zig") # ZIG
path+=("$HOME/apps/ghostty/bin") # GHOSTTY
path+=("$HOME/apps/hugo") # HUGO
path+=("$HOME/apps/heroku/bin") # HEROKU
path+=("$HOME/apps/uv") # UV
path+=("$HOME/apps/uv/bin") # UV BIN
path+=("$HOME/apps/uv/python/bin") # UV global python
path+=("$HOME/apps/cloud-sql-proxy") # GCP SQL Auth Proxy
path+=("$HOME/.local/scripts")
path+=("$HOME/.opencode/bin") # opencode
